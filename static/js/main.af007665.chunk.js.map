{"version":3,"sources":["modules/Configuration.js","modules/utilities/CsvParser.js","modules/utilities/CreateUuid.js","modules/utilities/SaveAsFile.js","modules/utilities/GetFilenameType.js","modules/utilities/GetDeckIdentityClass.js","modules/utilities/SetIdentity.js","modules/DeckParser/CreateDeckFrom.js","modules/DeckParser/CreateDeckFromCsv.js","modules/DeckParser/CreateDeckFromTxt.js","modules/DeckParser/CreateDeckFromJson.js","modules/DeckParser/CreateDeckFromDek.js","modules/DeckExporter/ExportAsMtga.js","modules/DeckExporter/ExportAsTxt.js","modules/DeckExporter/ExportAsDec.js","modules/Decks/DeckList.js","modules/Decks/DeckParse.js","modules/ErrorPages/index.js","modules/Decks/ViewDeck.js","modules/Decks/Overview.js","modules/Decks/Index.js","modules/Collection/Summary.js","modules/Collection/Import.js","modules/Collection/Overview.js","modules/Collection/Index.js","store/state.js","store/reducer.js","store/index.js","Router/App.js","serviceWorker.js","index.js"],"names":["Configuration","props","dispatch","useDispatch","className","onClick","type","history","push","CSVToArray","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedValue","strMatchedDelimiter","length","replace","CreateUuid","Array","from","map","e","i","someRandomValue","Date","Math","random","indexOf","toString","join","SaveAsFile","text","filename","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","GetFilenameType","toLowerCase","endsWith","GetDeckIdentityClass","deck","types","undefined","colorIdentity","SetIdentity","a","commander","cards","filter","x","fetch","name","then","json","data","identity","color_identity","sort","card_faces","coverArt","image_uris","art_crop","CreateDeckFrom","CreateDeckFromCsv","CreateDeckFromTxt","CreateDeckFromJson","CreateDeckFromDek","id","success","error","firstLine","trim","split","delim","CsvToArray","header","shift","headerIndex","forEach","val","item","get","key","invoke","card","count","parseInt","set","number","foil","price","parseFloat","currency","multiverseId","scryfallId","proxy","edition","lineToCard","lines","category","startsWith","parts","sideboard","collectors","match","JSON","parse","ExportAsMtga","ToLine","main","list","concat","ExportAsTxt","ExportAsDec","DeckList","editable","setDeck","useState","view","setView","editIndex","setEditIndex","editCard","setEditCard","AsTable","edit","setEditData","target","dataset","index","columns","Set","keys","Object","add","width","entries","Headers","colSpan","data-id","defaultValue","stringify","EditColumns","col","getElementById","value","classList","remove","newDeck","save","del","GetVal","Columns","Lines","AsJson","AsList","GetList","connect","state","setName","setData","setType","parseError","result","href","action","onSubmit","onChange","file","files","fr","FileReader","onload","readAsText","htmlFor","changeName","NotFound","decks","params","deckIndex","setCommander","options","selectedIndex","console","log","selected","Liste","slice","picture","src","alt","to","activeClassName","path","component","DeckParse","ViewDeck","Overview","histo","callback","dict","reduce","n","items","first","second","sum","liste","cardCount","foilCount","title","icon","round","lagStats","Facts","popName","lagFacts","Summary","Checkbox","setState","checked","defaultChecked","newDecks","setNewDecks","overwrite","setOverwrite","collection","newDeckData","Import","initialState","stateVersion","reducer","findIndex","newState","localStorage","clear","getInitialState","getItem","reduceState","setItem","store","React","createContext","createStore","IndexPage","App","basename","exact","DeckOverview","CollectionOverview","Boolean","window","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.af007665.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Configuration = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  function reset() {\r\n    dispatch({ type: \"RESET\" });\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (<>\r\n    <div className=\"Main\">\r\n    <h1>Configuration</h1>\r\n    <button onClick={reset}>\r\n      Reset localstorage\r\n    </button>\r\n    </div>\r\n  </>);\r\n}\r\n\r\nexport default Configuration;","// ref: http://stackoverflow.com/a/1293163/2343\r\n// This will parse a delimited string into an array of\r\n// arrays. The default delimiter is the comma, but this\r\n// can be overriden in the second argument.\r\nconst CSVToArray = ( strData, strDelimiter ) => {\r\n    // Check to see if the delimiter is defined. If not,\r\n    // then default to comma.\r\n    strDelimiter = (strDelimiter || \",\");\r\n  \r\n    // Create a regular expression to parse the CSV values.\r\n    var objPattern = new RegExp(\r\n        (\r\n            // Delimiters.\r\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\r\n  \r\n            // Quoted fields.\r\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\r\n  \r\n            // Standard fields.\r\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\r\n        ),\r\n        \"gi\"\r\n        );\r\n  \r\n  \r\n    // Create an array to hold our data. Give the array\r\n    // a default empty first row.\r\n    var arrData = [[]];\r\n  \r\n    // Create an array to hold our individual pattern\r\n    // matching groups.\r\n    var arrMatches = null;\r\n  \r\n  \r\n    // Keep looping over the regular expression matches\r\n    // until we can no longer find a match.\r\n    // eslint-disable-next-line\r\n    while (arrMatches = objPattern.exec( strData )){\r\n  \r\n        // Get the delimiter that was found.\r\n        var strMatchedDelimiter = arrMatches[ 1 ];\r\n  \r\n        // Check to see if the given delimiter has a length\r\n        // (is not the start of string) and if it matches\r\n        // field delimiter. If id does not, then we know\r\n        // that this delimiter is a row delimiter.\r\n        if (\r\n            strMatchedDelimiter.length &&\r\n            strMatchedDelimiter !== strDelimiter\r\n            ){\r\n  \r\n            // Since we have reached a new row of data,\r\n            // add an empty row to our data array.\r\n            arrData.push( [] );\r\n  \r\n        }\r\n  \r\n        var strMatchedValue;\r\n  \r\n        // Now that we have our delimiter out of the way,\r\n        // let's check to see which kind of value we\r\n        // captured (quoted or unquoted).\r\n        if (arrMatches[ 2 ]){\r\n  \r\n            // We found a quoted value. When we capture\r\n            // this value, unescape any double quotes.\r\n            strMatchedValue = arrMatches[ 2 ].replace(\r\n                new RegExp( \"\\\"\\\"\", \"g\" ),\r\n                \"\\\"\"\r\n                );\r\n  \r\n        } else {\r\n  \r\n            // We found a non-quoted value.\r\n            strMatchedValue = arrMatches[ 3 ];\r\n  \r\n        }\r\n  \r\n  \r\n        // Now that we have our value string, let's add\r\n        // it to the data array.\r\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\r\n    }\r\n  \r\n    // Return the parsed data.\r\n    return( arrData );\r\n  }\r\n\r\n  export default CSVToArray;","const CreateUuid = () => {\r\n    return Array.from(Array(32))\r\n    .map((e, i) => {\r\n      let someRandomValue = i === 12 ? 4 : (+new Date() + Math.random() * 16) % 16 | 0;\r\n      return `${~[8, 12, 16, 20].indexOf(i) ? \"-\" : \"\"}${\r\n        // eslint-disable-next-line\r\n        (i === 16 ? someRandomValue & 0x3 | 0x8 : someRandomValue).toString(16)}`;\r\n    }).join(\"\");\r\n}\r\n\r\nexport default CreateUuid;","function SaveAsFile(text, filename) {\r\n  filename = filename.replace(\"/[^a-zA-Z0-9\\\\.\\\\-]/ig\", \"_\");\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n  element.setAttribute('download', filename);\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n  element.click();\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport default SaveAsFile;","function GetFilenameType(filename) {\r\n  filename = filename || \"\";\r\n  if (filename.toLowerCase().endsWith('.csv')) {\r\n    return \"csv\";\r\n  }\r\n\r\n  if (filename.toLowerCase().endsWith('.json')) {\r\n    return \"json\";\r\n  }\r\n\r\n  if (filename.toLowerCase().endsWith('.txt')) {\r\n    return \"txt\";\r\n  }\r\n\r\n  if (filename.toLowerCase().endsWith('.dec')) {\r\n    return \"dec\";\r\n  }\r\n\r\n  if (filename.toLowerCase().endsWith('.dek')) {\r\n    return \"dek\";\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default GetFilenameType;","const GetDeckIdentityClass = (deck) => {\r\n  var type = \"planeswalker\";\r\n\r\n  var types = {\r\n    \"\": \"c\",\r\n\r\n    \"W\": \"w\",\r\n    \"U\": \"u\",\r\n    \"B\": \"b\",\r\n    \"R\": \"r\",\r\n    \"G\": \"g\",\r\n\r\n    \"UW\": \"guild-azorius\",\r\n    \"BW\": \"guild-orzhov\",\r\n    \"RW\": \"guild-boros\",\r\n    \"GW\": \"guild-selesnya\",\r\n    \"BU\": \"guild-dimir\",\r\n    \"BG\": \"guild-golgari\",\r\n    \"GR\": \"guild-gruul\",\r\n    \"RU\": \"guild-izzet\",\r\n    \"BR\": \"guild-rakdos\",\r\n    \"GU\": \"guild-simic\",\r\n\r\n    \"BGW\": \"clan-abzan\",\r\n    \"RUW\": \"clan-jeskai\",\r\n    \"BRW\": \"clan-mardu\",\r\n    \"BGU\": \"clan-sultai\",\r\n    \"GRU\": \"clan-temur\",\r\n\r\n    \"BGR\": \"clan-atarka\",\r\n    \"GUW\": \"clan-dromoka\",\r\n    \"BRU\": \"clan-kolaghan\",\r\n    \"BUW\": \"clan-ojutai\",\r\n    \"GRW\": \"clan-silumgar\",\r\n\r\n    \"GRUW\": \"planeswalker\",\r\n    \"BRUW\": \"planeswalker\",\r\n    \"BGUW\": \"planeswalker\",\r\n    \"BGRW\": \"planeswalker\",\r\n    \"BGRU\": \"planeswalker\",\r\n\r\n    \"BGRUW\": \"planeswalker\",\r\n  };\r\n\r\n  if (deck.colorIdentity !== undefined && types[deck.colorIdentity]) {\r\n    type = types[deck.colorIdentity];\r\n  }\r\n\r\n  return \"ms-\" + type;\r\n}\r\n\r\nexport default GetDeckIdentityClass;\r\n","const SetIdentity = async (deck) => {\r\n  var commander = deck.cards.filter(x => x.commander);\r\n  if (commander) {\r\n    try {\r\n      return await fetch('https://api.scryfall.com/cards/named?fuzzy=' + encodeURIComponent(commander[0].name))\r\n      .then(x => x.json())\r\n      .then(data => {\r\n        var identity = data.color_identity;\r\n        identity.sort();\r\n        deck.colorIdentity = identity.join('');\r\n        if (data.card_faces) {\r\n          deck.coverArt = data.card_faces[0].image_uris.art_crop;\r\n        }\r\n        else if (data.image_uris) {\r\n          deck.coverArt = data.image_uris.art_crop;\r\n        }\r\n        return deck;\r\n      });\r\n    } catch { \r\n      return deck;\r\n    }\r\n  }\r\n}\r\n\r\nexport default SetIdentity;","import { CreateDeckFromCsv, CreateDeckFromJson, CreateDeckFromTxt, CreateDeckFromDek } from '.'\r\nimport { CreateUuid } from '../utilities'\r\n\r\nconst CreateDeckFrom = (text, type, name) => {\r\n  var deck;\r\n  switch (type) {\r\n    case \"csv\":\r\n      deck = CreateDeckFromCsv(text, name);\r\n      break;\r\n\r\n    case \"txt\":\r\n      deck = CreateDeckFromTxt(text, name);\r\n      break;\r\n\r\n    case \"json\":\r\n      deck = CreateDeckFromJson(text, name);\r\n      break;\r\n\r\n    case \"dec\":\r\n    case \"dek\":\r\n      deck = CreateDeckFromDek(text, name);\r\n      break;\r\n\r\n    default:\r\n      deck = null;\r\n  }\r\n\r\n  if (deck !== null) {\r\n    deck.id = CreateUuid();\r\n    return {\r\n      success: true,\r\n      deck: deck\r\n    };\r\n  }\r\n\r\n  return { \r\n    success: false,\r\n    error: \"Unsupported format\",\r\n  };\r\n};  \r\n\r\nexport default CreateDeckFrom;","import { CsvToArray } from '../utilities'\r\n\r\nconst CreateDeckFromCsv = (text, name) => {\r\n  var firstLine = text.trim().split('\\n')[0];\r\n  var delim = firstLine.indexOf('\\t') > -1 ? '\\t' : undefined;\r\n  if (delim === undefined) delim = firstLine.indexOf(';') > -1 ? ':' : undefined;\r\n  if (delim === undefined) delim = firstLine.indexOf(',') > -1 ? ',' : undefined;\r\n\r\n  var cards = CsvToArray(text.trim(), delim);\r\n  \r\n  var header = cards[0];\r\n  cards.shift();\r\n\r\n  var headerIndex = {};\r\n  header.forEach((val) => {\r\n    headerIndex[val] = header.indexOf(val);\r\n  });\r\n  \r\n  function lineToCard(item) {\r\n    function get(key, invoke) {\r\n      var val = headerIndex[key] !== undefined && headerIndex[key] > -1 ? item[headerIndex[key]] : undefined;\r\n      if (invoke && val !== undefined) val = invoke(val);\r\n      return val;\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    function getRaw() {\r\n      var raw = {};\r\n      header.forEach((val) => {\r\n        raw[val] = item[headerIndex[val]];\r\n      });\r\n      return raw;\r\n    }\r\n    \r\n    var card = {\r\n      name: get(\"Name\"),\r\n      count: get(\"QuantityX\", x => parseInt(x.replace('x', ''))),\r\n      set: get(\"Edition code\"),\r\n      number: get(\"Collector's number\"),\r\n      foil: get(\"Foil\", x => x === \"Foil\"),\r\n      price: get(\"Price (total)\", x => parseFloat(x)),\r\n      currency: get(\"Currency\"),\r\n      multiverseId: get(\"MultiverseID\"),\r\n      scryfallId: get(\"Scryfall ID\"),\r\n      proxy: get(\"Tag\", x => x.indexOf(\"Proxy\") > -1),\r\n      //raw: getRaw()\r\n    };\r\n\r\n    card.price = card.price || get(\"Price\", x => parseFloat(x.split(' ')[1]));\r\n    card.currency = card.currency || get(\"Price\", x => x.split(' ')[0]);\r\n    card.edition = card.edition || get(\"Edition\");\r\n\r\n    return card;\r\n  }\r\n\r\n  return {\r\n    name: name,\r\n    cards: cards.map(x => lineToCard(x))\r\n  };\r\n};  \r\n\r\nexport default CreateDeckFromCsv;","const CreateDeckFromTxt = (text, name) => {\r\n  var lines = text.trim().replace(/\\r/ig, '').replace(/\\t/ig, ' ').replace(/ +/ig, ' ').split('\\n');\r\n  var category = null;\r\n\r\n  var cards = lines.map(x => {\r\n    if (x.length === 0) {\r\n      category = \"Sideboard\";\r\n      return null;\r\n    }\r\n\r\n    if (x.startsWith('//')) {\r\n      return null;\r\n    }\r\n\r\n    var parts = x.split(' ');\r\n    var sideboard = false;\r\n    var edition = null;\r\n    var collectors = null;\r\n\r\n    if (x.match(/^[a-zA-Z]+$/))  {\r\n      category = x;\r\n      return null;\r\n    }\r\n    if (parts[0] === \"SB:\") {\r\n      sideboard = true;\r\n      parts.shift();\r\n    }\r\n    var count = parseInt(parts[0].replace(/x/ig, \"\"));\r\n    parts.shift();\r\n    var name = parts.join(' ');\r\n    var match = name.match(/(.*?) \\(([a-z0-9]+)\\) ([a-z0-9]+)$/i);\r\n\r\n    if (match) {\r\n      name = match[1];\r\n      edition = match[2];\r\n      collectors = match[3];\r\n    }\r\n\r\n    match = name.match(/(.*?) \\(([a-z0-9]+)\\)$/i);\r\n    if (match) {\r\n      name = match[1];\r\n      edition = match[2];\r\n    }\r\n\r\n    return {\r\n      count: count,\r\n      name: name,\r\n      set: edition ? edition : undefined,\r\n      number: collectors ? collectors : undefined,\r\n      sideboard: category === \"Sideboard\" || sideboard ? true : undefined,\r\n      category: category && category !== \"Sideboard\" ? category : undefined\r\n    };\r\n  });\r\n\r\n  return {\r\n    name: name,\r\n    cards: cards.filter(x => x)\r\n  };\r\n};  \r\n\r\nexport default CreateDeckFromTxt;","const CreateDeckFromJson = (text, name) => {\r\n  var deck = JSON.parse(text);\r\n  if (!deck.cards) {\r\n    return null;\r\n  }\r\n  return {\r\n    ...deck,\r\n    name: name\r\n  };\r\n};  \r\n\r\nexport default CreateDeckFromJson;","const CreateDeckFromDek = (text, name) => {\r\n  var lines = text.trim().replace(/\\r/ig, '').replace(/\\t/ig, ' ').replace(/ +/ig, ' ').split('\\n');\r\n\r\n  var cards = lines.map(x => {\r\n    if (x.startsWith('//') || x.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    var parts = x.split(' ');\r\n\r\n    var sideboard = false; \r\n    if (parts[0] === \"SB:\") {\r\n      sideboard = true;\r\n      parts.shift();\r\n    }\r\n\r\n    var count = parseInt(parts[0].replace(/x/ig, \"\"));\r\n    parts.shift();\r\n    var name = parts.join(' ');\r\n\r\n    return {\r\n      count: count,\r\n      name: name,\r\n      sideboard: sideboard ? true : undefined,\r\n    };\r\n  });\r\n\r\n  return {\r\n    name: name,\r\n    cards: cards.filter(x => x)\r\n  };\r\n};  \r\n\r\nexport default CreateDeckFromDek;","const ExportAsMtga = (deck) => {\r\n\r\n  const ToLine = x => x.count + ' ' + x.name + (x.set && x.number ? (\" (\"+x.set+\") \" + x.number) : \"\");\r\n\r\n  var main = deck.cards.filter(x => !x.sideboard);\r\n  var sideboard = deck.cards.filter(x => x.sideboard);\r\n\r\n  var list = main.map(ToLine);\r\n  list = list.concat([\"\"]);\r\n  list = list.concat(sideboard.map(ToLine));\r\n\r\n  return list.join('\\n');\r\n};  \r\n\r\nexport default ExportAsMtga;\r\n","const ExportAsTxt = (deck) => {\r\n  return deck.cards.map(x => (x.sideboard ? \"SB: \" : \"\") + x.count + ' ' + x.name).join('\\n');\r\n};  \r\n\r\nexport default ExportAsTxt;\r\n","const ExportAsDec = (deck) => {\r\n  return deck.cards.map(x => (x.sideboard ? \"SB: \" : \"\") + x.count + ' ' + x.name).join('\\n');\r\n};  \r\n\r\nexport default ExportAsDec;\r\n","import React, { useState } from 'react';\r\nimport { ExportAsMtga } from '../DeckExporter';\r\n\r\nconst DeckList = ({ deck, editable, setDeck }) => {\r\n  const [view, setView] = useState(\"table\");\r\n  const [editIndex, setEditIndex] = useState(null);\r\n  const [editCard, setEditCard] = useState(null);\r\n\r\n  function AsTable(deck) {\r\n    function edit(e) {\r\n      var index = parseInt(e.target.dataset.id);\r\n      setEditData(index);\r\n    }\r\n\r\n    function setEditData(index)  {\r\n      setEditCard({ ...deck.cards[index] });\r\n      setEditIndex(index);\r\n    }\r\n  \r\n    function save(columns) {\r\n      for (var i in columns) {\r\n        var col = columns[i];\r\n        var val = document.getElementById('edit_' + col).value;\r\n        document.getElementById('edit_' + col).classList.remove('invalid');\r\n        try {\r\n        editCard[col] = val.length ? JSON.parse(val) : undefined;\r\n        }\r\n        catch {\r\n          document.getElementById('edit_' + col).classList.add('invalid');\r\n          return;\r\n        }\r\n      }\r\n      \r\n      var newDeck = { ...deck };\r\n      newDeck.cards[editIndex] = editCard;\r\n      setEditIndex(null);\r\n      setEditCard(null);\r\n      setDeck(newDeck);\r\n    }\r\n\r\n    function add() {\r\n      var newDeck = { ...deck };\r\n      newDeck.cards.push({});\r\n      setEditData(newDeck.cards.length - 1);\r\n      setDeck(newDeck);\r\n    }\r\n\r\n    function del() {\r\n      var newDeck = { ...deck };\r\n      delete newDeck.cards[editIndex];\r\n      setEditIndex(null);\r\n      setEditCard(null);\r\n      setDeck(newDeck);\r\n    }\r\n    \r\n    function Headers(columns) {\r\n      return <>\r\n        {editable && <th>Edit</th>}\r\n        {Object.entries(columns).map(([key, val]) => (\r\n          <th key={val}>{val}</th>\r\n        ))}\r\n      </>\r\n    }\r\n  \r\n    function GetVal(val) {\r\n      if (val === undefined) return \"\";\r\n      if (typeof(val) == \"boolean\") return val ? \"X\" : \"\";\r\n      return val;\r\n    }\r\n  \r\n    function Columns(card, columns) {\r\n      return <>{Object.entries(columns).map(([key, val]) => (\r\n        <td key={val}>{GetVal(card[val])}</td>\r\n      ))}</>\r\n    }\r\n  \r\n    function EditColumns(card, columns) {\r\n      return <>{Object.entries(columns).map(([key, val]) => (\r\n        <div className='editLine' key={val}>\r\n          <b>{val}:</b>\r\n          <input id={'edit_' + val} defaultValue={JSON.stringify(card[val])} />\r\n        </div>\r\n      ))}</>\r\n    }\r\n  \r\n    function Lines(cards, columns) {\r\n      var i = 0;\r\n      return <>\r\n        {Object.entries(cards).map(([key, val]) => {\r\n        var index = i++;\r\n        if (index === editIndex && editCard) {\r\n          return (<tr key={key}>\r\n            <td colSpan='999'>\r\n              <button data-id={index} onClick={() => setEditIndex(null)}>x</button>\r\n              <div className='edit'>\r\n                {EditColumns(editCard, columns)} \r\n              <div className='buttons'>\r\n                <button data-id={index} onClick={() => save(columns)}>Save</button>\r\n                <button data-id={index} onClick={() => del()}>Delete</button>\r\n              </div>\r\n            </div></td>\r\n          </tr>);\r\n        }\r\n  \r\n        return (<tr key={key}>\r\n            {editable && <td><button data-id={index} onClick={edit}>...</button></td>}\r\n            {Columns(val, columns)} \r\n          </tr>);\r\n      })}\r\n      {editable && (<tr key='add'>\r\n          <td colSpan='999'>\r\n            <button onClick={() => add()}>+</button>\r\n          </td>\r\n        </tr>)}\r\n      </>\r\n    }\r\n  \r\n    var columns = new Set();\r\n    for (var item in deck.cards)  {\r\n      var keys = Object.keys(deck.cards[item]);\r\n      for (var i in keys) {\r\n        columns.add(keys[i]);\r\n      }\r\n    } \r\n  \r\n    columns = Array.from(columns);\r\n  \r\n    return <table width='100%'><thead><tr>{Headers(columns)}</tr></thead><tbody>{Lines(deck.cards, columns)}</tbody></table>\r\n  }\r\n  \r\n  function AsList(deck) {\r\n    return <pre>{ExportAsMtga(deck)}</pre>;\r\n  }\r\n  \r\n  function AsJson(deck) {\r\n    return  <pre>{JSON.stringify(deck, null, 2)}</pre>;\r\n  }\r\n\r\n  function GetList(view) {\r\n    switch (view) {\r\n      case \"table\":\r\n        return AsTable(deck);\r\n      case \"json\":\r\n        return AsJson(deck);\r\n      default:\r\n        return AsList(deck);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='deckListContainer'>\r\n      <ul className='view'>\r\n        <button className={view === \"table\" ? \"active\" : \"\"} onClick={() => setView(\"table\")}>Table</button>\r\n        <button className={view === \"list\" ? \"active\" : \"\"} onClick={() => setView(\"list\")}>List view</button>\r\n        <button className={view === \"json\" ? \"active\" : \"\"} onClick={() => setView(\"json\")}>JSON</button>\r\n      </ul>\r\n      <div className='list'>{GetList(view)}</div>\r\n    </div>);\r\n}\r\n\r\nexport default DeckList;","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { connect } from 'react-redux';\r\nimport { CreateDeckFrom } from '../DeckParser'\r\nimport { GetFilenameType } from '../utilities'\r\nimport DeckList from \"./DeckList\";\r\n\r\nconst DeckParse = ({ history }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [data, setData] = useState(null);\r\n  const [type, setType] = useState(null);\r\n  const [deck, setDeck] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let parseError = \"\";\r\n  if (data && deck === null) {\r\n    var result = CreateDeckFrom(data, type, name);\r\n    if (result.success) {\r\n      setDeck(result.deck);\r\n    }\r\n    else {\r\n      parseError = result.error;\r\n    }\r\n  }\r\n\r\n  let readFile = (e) => {\r\n    var fileInput = e.target;\r\n    var file = fileInput.files[0];\r\n    if (file) {\r\n      var fr = new FileReader();\r\n      fr.onload = (e) => {\r\n        setData(e.target.result);\r\n        setType(GetFilenameType(file.name));\r\n        setName(file.name);\r\n        setDeck(null);\r\n      };\r\n      fr.readAsText(file);\r\n    }\r\n  };\r\n\r\n  let changeName = (name) => {\r\n    setName(name);\r\n    setDeck(null);\r\n  };\r\n\r\n  let saveDeck = () => {\r\n    dispatch({ type: \"SAVEDECK\", deck: deck });\r\n    setDeck(null);\r\n    setData(null);\r\n    history.push(deck.id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <h1>Import a new deck</h1>\r\n    <section>\r\n\r\n    <p>Import most standard deck formats. Use .txt file extension if you are unsure. Tetst files can be found at <a href='https://github.com/martsve/deckjson/'>Github</a>. \r\n      (\r\n      <a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/delver.csv'>Delver lens csv</a>,\r\n      <a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/arena.txt'>Arena list</a>,\r\n      <a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/mtgo.txt'>MTGO list</a>,\r\n      <a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/misc.dec'>Misc dec/dek file</a>,\r\n      <a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/strange.txt'>Guess file</a>,\r\n      )\r\n    </p>\r\n\r\n    <form key='inputform' action='#' onSubmit={() => false}>\r\n      <input key='fileinput' type='file' id='fileinput' onChange={readFile} />\r\n    </form>\r\n    </section>\r\n\r\n    {deck ? (<section>\r\n      <div className='form-group'>\r\n        <label htmlFor='deckNameInput'>Deck name</label>  \r\n        <input id='deckNameInput' value={name} onChange={e => changeName(e.target.value)} />\r\n\r\n        <button onClick={saveDeck}>\r\n          <span className='icon-plus'></span>\r\n        </button>\r\n      </div>\r\n\r\n      <DeckList deck={deck} />\r\n      </section>) : <></>}\r\n\r\n    {parseError && <section className='error'>{parseError}</section>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n\r\n}))(DeckParse);\r\n","import React from 'react';\r\n\r\nconst NotFound = () => <div className=\"Main\"><h1>Not found</h1></div>\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport NotFound from '../ErrorPages';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { SaveAsFile, SetIdentity, GetDeckIdentityClass } from \"../utilities\";\r\nimport { ExportAsMtga, ExportAsTxt, ExportAsDec } from \"../DeckExporter\";\r\nimport DeckList from \"./DeckList\";\r\n\r\nconst ViewDeck = ({ history, match, decks }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  var id = match.params.id;\r\n  var deck = { ...decks.filter(x => x.id === id)[0] };\r\n  if (!deck) {\r\n    return <NotFound />\r\n  }\r\n\r\n  var deckIndex = decks.indexOf(decks.filter(x => x.id === id)[0]);\r\n\r\n  function deleteDeck() {\r\n    dispatch({ type: \"DELETEDECK\", id: id });\r\n    history.push(\"/decks\");\r\n  }\r\n\r\n  function exportJson() {\r\n    SaveAsFile(JSON.stringify(deck, null, 2), deck.name + \".json\");\r\n  }\r\n\r\n  function exportText() {\r\n    SaveAsFile(ExportAsTxt(deck), deck.name + \".txt\");\r\n  }\r\n\r\n  function exportMtga() {\r\n    SaveAsFile(ExportAsMtga(deck), deck.name + \".clip\");\r\n  }\r\n\r\n  function exportDec() {\r\n    SaveAsFile(ExportAsDec(deck), deck.name + \".dek\");\r\n  }\r\n\r\n  const setCommander = async (index) => {\r\n    for (var item in deck.cards) {\r\n      deck.cards[item].commander = undefined;\r\n    }\r\n\r\n    if (index === 0) {\r\n      dispatch({ type: \"UPDATEDECK\", deck: deck });\r\n    }\r\n    else {\r\n      deck.cards[index - 1].commander = true;\r\n      deck = await SetIdentity(deck);\r\n      dispatch({ type: \"UPDATEDECK\", index: deckIndex, deck: deck });\r\n      // TODO: does not cause new render. why?\r\n    }\r\n  }\r\n\r\n  const saveDeck = (deck) => {\r\n    dispatch({ type: \"UPDATEDECK\", index: deckIndex, deck: deck });\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <h1><i className={\"large ms \" + GetDeckIdentityClass(deck)} ></i> {deck.name}</h1>\r\n\r\n    <div className='buttons'>\r\n      Set commander: {\" \"}\r\n      <select onChange={async (e) => await setCommander(parseInt(e.target.options[e.target.selectedIndex].value))}>\r\n        <option value='0'></option>\r\n        {deck.cards.map( (card, key) => {\r\n          console.log(card);\r\n          return <option selected={card.commander ? \"selected\" : \"\"} key={key} value={parseInt(key) + 1}>{card.name}</option>;\r\n        })}\r\n      </select>\r\n    </div>\r\n\r\n    <div className='buttons'>\r\n      <button onClick={exportJson}>\r\n        Export deck as JSON\r\n      </button>\r\n\r\n      <button onClick={exportText}>\r\n        Export deck as text file\r\n      </button>\r\n      \r\n      <button onClick={exportMtga}>\r\n        Export deck as MTGA clipboard\r\n      </button>\r\n\r\n      <button onClick={exportDec}>\r\n        Export deck as MTGO .dek\r\n      </button>\r\n\r\n      <button onClick={deleteDeck}>\r\n        <span className='icon-trash-empty'></span>\r\n      </button>\r\n    </div>\r\n\r\n    <DeckList deck={deck} editable={true} setDeck={saveDeck} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(ViewDeck);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { GetDeckIdentityClass } from '../utilities';\r\n\r\nconst Liste = ({ list }) => {\r\n  return Object.entries(list.slice(0, 10)).map( ([key, card]) => {\r\n    var picture = <i className={\"large ms \" + GetDeckIdentityClass(card)} ></i>;\r\n    if (card.coverArt) {\r\n      picture = <img src={card.coverArt} width='100' alt='deck cover art' />;\r\n    }\r\n\r\n    return (\r\n      <Link className='tile' key={key} to={\"/decks/\" + card.id}>\r\n        <div className='container'>\r\n          <div className='art'>\r\n            {picture}\r\n          </div>\r\n          <span className='title'>{card.name}</span>      \r\n        </div>\r\n      </Link>\r\n    );\r\n  });\r\n}\r\n\r\nconst Overview = ({ decks }) => {\r\n  return (\r\n    <>\r\n    <section>\r\n      <h2>New decks</h2>\r\n      <div className='tiles'>\r\n        <Link to='/decks/import' className='tile'>\r\n          <div className='container'>\r\n            <div className='art'>\r\n              <span className='icon-plus large'></span>\r\n            </div>\r\n            <span className='title'>Import a deck</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </section>\r\n\r\n    <section>\r\n      <h2>Your collection</h2>\r\n      <div className=\"tiles\">\r\n        <Liste list={decks} />\r\n      </div>\r\n    </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(Overview);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, Switch, Route } from 'react-router-dom'\r\nimport DeckParse from './DeckParse';\r\nimport ViewDeck from './ViewDeck';\r\nimport NotFound from '../ErrorPages';\r\nimport Overview from './Overview';\r\nimport { GetDeckIdentityClass } from '../utilities';\r\n\r\nconst Liste = ({ list }) => {\r\n  return (\r\n    <ul>\r\n      {Object.entries(list).map( ([key, value]) => (\r\n      <li key={key}>\r\n        <NavLink activeClassName='active' to={\"/decks/\" + value.id}>\r\n          <span className='title'>\r\n            <i className={\"ms \" + GetDeckIdentityClass(value)} ></i> {\" \"}\r\n            {value.name}\r\n          </span>           \r\n        </NavLink>\r\n      </li>\r\n      ))}\r\n      \r\n      <li key=\"import\">\r\n      <NavLink activeClassName='active' to=\"/decks/import\">\r\n        <span className='title'><span className='icon-plus'></span> Import</span>           \r\n      </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nconst Index = ({ decks }) => {\r\n  return (\r\n    <>\r\n    <div className='SideBar'>\r\n      <Liste list={decks} />\r\n    </div>\r\n    <div className=\"Main\">\r\n      <Switch>\r\n        <Route path=\"/decks/import\" component={DeckParse} />\r\n        <Route path=\"/decks/:id\" component={ViewDeck} />\r\n        <Route path=\"/decks\" component={Overview} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(Index);\r\n","import React from 'react';\r\n\r\nconst lagStats = (decks) => {\r\n  var liste = [];\r\n  var cards = decks.reduce((n, x) => {\r\n    return n.concat(x.cards);\r\n  }, []);\r\n\r\n  var cardCount = sum(cards, x => x.count);\r\n  var foilCount = sum(cards, x => (x.foil && !x.proxy ? 1 : 0) * x.count);\r\n\r\n  liste.push({ title: \"Decks\", icon: \"thumbs-up\", text: decks.length });\r\n  liste.push({ title: \"Cards\", icon: \"smile\", text: cardCount });\r\n  liste.push({ title: \"Proxies\", icon: \"thumbs-down\", text: sum(cards, x => (x.proxy ? 1 : 0) * x.count) });\r\n  liste.push({ title: \"Value\", icon: \"frown\", text: Math.round(sum(cards, x => x.proxy ? 0 : x.price * x.count)) + '$' });\r\n  liste.push({ title: \"Proxy value\", icon: \"frown\", text: Math.round(sum(cards, x => x.proxy ? x.price * x.count : 0)) + '$' });\r\n  liste.push({ title: \"Unique cards\", icon: \"meh\", text: set(cards, x => x.name).length });\r\n  liste.push({ title: \"Foils\", icon: \"thumbs-up\", text: foilCount });\r\n  liste.push({ title: \"Foil price\", icon: \"thumbs-up\", text: Math.round(sum(cards, x => !x.proxy && x.foil ? x.price : 0)) + '$' });\r\n  liste.push({ title: \"Foiled\", icon: \"thumbs-up\", text: Math.round(100.0 * foilCount / cardCount) + '%' });\r\n\r\n  return liste;\r\n};\r\n\r\nconst lagFacts = (decks) => {\r\n  var liste = [];\r\n  var cards = decks.reduce((n, x) => {\r\n    return n.concat(x.cards);\r\n  }, []);\r\n\r\n  var popName = histo(cards, x => x.set);\r\n  var i = 1;\r\n  for (var item in popName.slice(0, 5)) {\r\n    liste.push({ title: \"Most popular set #\" + i++, text: popName[item][0] + ', ' + popName[item][1] + ' cards' });\r\n  }\r\n\r\n  liste.push({});\r\n\r\n  popName = histo(cards, x => x.name);\r\n  i = 1;\r\n  for (item in popName.slice(0, 20)) {\r\n    liste.push({ title: \"Most popular card #\" + i++, text: popName[item][0] + ', ' + popName[item][1] + ' times' });\r\n  }\r\n\r\n  return liste;\r\n};\r\n\r\nconst histo = (list, callback) => {\r\n  var dict = list.reduce((n, x) => {\r\n    var key = callback(x);\r\n    if (key !== undefined) {\r\n      n[key] = x.count + (n[key] ? n[key] : 0);\r\n    }\r\n    return n;\r\n  }, {});\r\n\r\n  var items = Object.keys(dict).map(function(key) {\r\n    return [key, dict[key]];\r\n  });\r\n  \r\n  // Sort the array based on the second element\r\n  items.sort(function(first, second) {\r\n    return second[1] - first[1];\r\n  });\r\n\r\n  return items;\r\n}\r\n\r\nconst set = (list, callback) => Array.from(list.reduce((n, x) => {\r\n  n.add(callback(x));\r\n  return n;\r\n}, new Set()));\r\n\r\nconst sum = (list, callback) => list.reduce((n, x) => {\r\n  var val = callback(x);\r\n  return n + (val ? parseFloat(val) : 0);\r\n}, 0);\r\n\r\nconst Liste = ({ decks }) => {\r\n  var list = lagStats(decks);\r\n  return Object.entries(list).map( ([i, item]) => {\r\n    return (\r\n      <div key={i} className='tile'>\r\n        <div className='container'>\r\n          <div className='art'>\r\n            <span className={\"icon-\" + item.icon + \" large\"}></span>\r\n          </div>\r\n          <span className='title'>{item.title}: {item.text}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n\r\nconst Facts = ({ decks }) => {\r\n  var list = lagFacts(decks);\r\n  return <ul>{Object.entries(list).map( ([i, item]) => {\r\n    if (!item.title) return <li>&nbsp;</li>;\r\n    return (     \r\n        <li key={i}><b>{item.title}:</b> {item.text}</li>\r\n    );\r\n  })}</ul>;\r\n}\r\n\r\nexport const Summary = ({ decks }) => {\r\n  return (\r\n    <>\r\n    <section>\r\n      <h2>Collection summary</h2>\r\n      <div className=\"tiles\">\r\n        <Liste decks={decks} />\r\n      </div>\r\n      <br />\r\n      <Facts decks={decks} />\r\n    </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Summary;","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { connect } from 'react-redux';\r\nimport CollectionSummary from './Summary';\r\nimport { GetDeckIdentityClass } from '../utilities';\r\n\r\nconst Liste = ({ list }) => {\r\n  return Object.entries(list.slice(0, 10)).map( ([key, card]) => {\r\n    var picture = <i className={\"large ms \" + GetDeckIdentityClass(card)} ></i>;\r\n    if (card.coverArt) {\r\n      picture = <img src={card.coverArt} width='100' alt='deck cover art' />;\r\n    }\r\n\r\n    return (\r\n      <div className='tile' key={key}>\r\n        <div className='container'>\r\n          <div className='art'>\r\n            {picture}\r\n          </div>\r\n          <span className='title'>{card.name}</span>      \r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n\r\nvar Checkbox = ({ state, setState }) => {\r\n  return <input type=\"checkbox\" onClick={(e) => {\r\n    setState(e.target.checked);\r\n  }} defaultChecked={state}></input>\r\n};\r\n\r\nconst Import = ({ history, decks }) => {\r\n  const [data, setData] = useState(null);\r\n  const [newDecks, setNewDecks] = useState(null);\r\n  const [overwrite, setOverwrite] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let parseError = \"\";\r\n  if (data && newDecks === null) {\r\n    try {\r\n      var json = JSON.parse(data);\r\n      var collection = json.decks;\r\n      if (!collection) {\r\n        parseError = \"No decks found in the file.\";\r\n      }\r\n      else {\r\n        setNewDecks(collection);\r\n      }\r\n    }\r\n    catch {\r\n      parseError = \"Unable to parse collection file.\";\r\n    }\r\n  }\r\n\r\n  let readFile = (e) => {\r\n    var fileInput = e.target;\r\n    var file = fileInput.files[0];\r\n    if (file) {\r\n      var fr = new FileReader();\r\n      fr.onload = (e) => {\r\n        setData(e.target.result);\r\n      };\r\n      fr.readAsText(file);\r\n    }\r\n  };\r\n\r\n  let saveCollection = () => {\r\n    var newDeckData = newDecks;\r\n    if (!overwrite) {\r\n      newDeckData = [...decks].concat(newDecks)\r\n    }\r\n    dispatch({ type: \"IMPORTCOLLECTION\", decks: newDeckData });\r\n    history.push('/decks');\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <h1>Import a new collection</h1>\r\n    <section>\r\n\r\n    <p>Import a collection of DeckJson decks. </p>\r\n    <pre>{'{ \"decks\": [...] }'}</pre>\r\n    <p>Tetst files can be found at <a href='https://github.com/martsve/deckjson/'>Github</a>. \r\n      (<a href='https://raw.githubusercontent.com/martsve/deckjson/master/test/Collection.json'>Collection 1</a>)\r\n    </p>\r\n\r\n    <form key='inputform' action='#' onSubmit={() => false}>\r\n      <div className='form-group'>\r\n\r\n      <label>\r\n        <Checkbox state={overwrite} setState={setOverwrite} />\r\n        <span>Overwrite existing collection</span>\r\n      </label>\r\n      </div>\r\n\r\n      <br />\r\n\r\n      <input key='fileinput' type='file' id='fileinput' onChange={readFile} />\r\n    </form>\r\n    </section>\r\n\r\n    {newDecks ? (<section>\r\n      <div className='form-group'>\r\n        <button onClick={saveCollection}>\r\n          <span className='icon-plus'></span>\r\n          Import this collection\r\n        </button>\r\n      </div>\r\n\r\n      <CollectionSummary decks={newDecks} />\r\n\r\n      <section>\r\n        <h2>Decks in the collection</h2>\r\n        <div className=\"tiles\">\r\n          <Liste list={newDecks} />\r\n        </div>\r\n      </section>\r\n      </section>) : <></>}\r\n\r\n    {parseError && <section className='error'>{parseError}</section>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(Import);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport CollectionSummary from './Summary'\r\nimport { SaveAsFile } from \"../utilities\";\r\n\r\nconst Overview = ({ decks }) => {\r\n  function exportJson() {\r\n    SaveAsFile(JSON.stringify({ decks: decks }, null, 2), \"Collection.json\");\r\n  }\r\n  \r\n  return (\r\n    <>\r\n    <section>\r\n      <h2>Import/Export</h2>\r\n      <div className='tiles'>\r\n        <Link to='/collection/import' className='tile'>\r\n          <div className='container'>\r\n            <div className='art'>\r\n              <span className='icon-upload-cloud large'></span>\r\n            </div>\r\n            <span className='title'>Import collection</span>\r\n          </div>\r\n        </Link>\r\n        <Link to='#' className='tile' onClick={exportJson}>\r\n          <div className='container'>\r\n            <div className='art'>\r\n              <span className='icon-download-cloud large'></span>\r\n            </div>\r\n            <span className='title'>Export collection</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </section>\r\n\r\n    <CollectionSummary decks={decks} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(Overview);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport NotFound from '../ErrorPages';\r\nimport { default as Import }  from './Import';\r\nimport Overview from './Overview';\r\n\r\nconst Index = ({ decks }) => {\r\n  return (\r\n    <>\r\n    <div className=\"Main\">\r\n      <Switch>\r\n        <Route path=\"/collection/import\" component={Import} />\r\n        <Route path=\"/collection\" component={Overview} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  decks: state.decks,\r\n}))(Index);\r\n","const initialState = {\r\n    stateVersion: 0,\r\n    decks: []\r\n};\r\n\r\nexport default initialState;","import initialState from './state';\r\n\r\nconst reducer = (state, action) => {\r\n    switch(action.type) {\r\n      case 'INCREMENT':\r\n        return {\r\n          ...state,\r\n          count: state.count + 1\r\n        };\r\n                              \r\n        case 'DELETEDECK':\r\n          let index = state.decks.findIndex((x) => x.id === action.id); \r\n          return {\r\n            ...state,\r\n            decks: [\r\n              ...state.decks.slice(0, index),\r\n              ...state.decks.slice(index + 1)\r\n            ]\r\n          };\r\n\r\n        case 'UPDATEDECK':\r\n          var newState = { ...state };\r\n          newState.decks[action.index] = { ...action.deck };\r\n          return newState;\r\n\r\n        case 'SAVEDECK':\r\n          return {\r\n            ...state,\r\n            decks: [\r\n              ...state.decks,\r\n              action.deck\r\n            ]\r\n          };\r\n\r\n        case 'IMPORTCOLLECTION':\r\n            return {\r\n              ...state,\r\n              decks: action.decks\r\n            };\r\n\r\n        case 'RESET':\r\n            localStorage.clear();\r\n          return initialState;\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export { reducer };","import React from 'react';\r\nimport { reducer as reduceState } from './reducer';\r\nimport initialState from './state';\r\nimport { createStore } from 'redux';\r\n\r\nconst LOCALSTORAGEKEY = \"DECKJSON\";\r\n\r\nconst getInitialState = () => {\r\n  var data = localStorage.getItem(LOCALSTORAGEKEY);\r\n  if (data) {\r\n    try {\r\n      return JSON.parse(data);\r\n    } catch {}\r\n  }\r\n\r\n  return initialState;\r\n} \r\n\r\nexport const reducer = (state = getInitialState(), action) => {\r\n  const newState = reduceState(state, action);\r\n  localStorage.setItem(LOCALSTORAGEKEY, JSON.stringify(newState));\r\n  return newState;\r\n}\r\n\r\nexport const context = React.createContext(null);\r\n\r\nexport const store = createStore(reducer);\r\n\r\nexport default { store, reducer, context };\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Configuration from '../modules/Configuration';\r\nimport { default as DeckOverview } from '../modules/Decks/Index';\r\nimport { default as CollectionOverview } from '../modules/Collection/Index';\r\nimport NotFound from '../modules/ErrorPages';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport { Route, HashRouter as Router, Switch, NavLink, Redirect  } from 'react-router-dom'\r\nimport { store } from '../store';\r\n\r\nconst IndexPage = () => (<Redirect to=\"/decks/\" />);\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router basename='/'>\r\n        <nav className='sm-flex'>\r\n          <NavLink exact activeClassName='active' to=\"/\"><span className='icon-home medium'></span></NavLink>\r\n          <NavLink activeClassName='active' to=\"/decks/\">Decks</NavLink>\r\n          <NavLink activeClassName='active' to=\"/collection/\">Collection</NavLink>\r\n          <NavLink activeClassName='active' to=\"/config\"><span className='icon-cog medium'></span></NavLink>\r\n        </nav>\r\n        <div className=\"Body\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={IndexPage} />\r\n            <Route path=\"/decks\" component={DeckOverview} />\r\n            <Route path=\"/collection\" component={CollectionOverview} />\r\n            <Route path=\"/config\" component={Configuration} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Router/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}